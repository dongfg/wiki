<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Debian 基本及安全设置 - dongfg' wiki</title>
    <meta name="keywords" content="java, python, linux, docker, wiki, simiki"/>
    <meta name="description" content="dongfg' personal wiki"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/">dongfg' wiki</a>
    &nbsp;&#187;&nbsp;
    <a href="/#linux">linux</a>
    &nbsp;&#187;&nbsp;Debian 基本及安全设置
    <span class="updated">Updated&nbsp;
    2018-12-03 09:21:21
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">源</a></li>
<li><a href="#_2">添加用户</a></li>
<li><a href="#_3">自动更新</a></li>
<li><a href="#ssh">ssh安全设置</a></li>
<li><a href="#ufw">启用 ufw</a></li>
</ul>
</div>
<h3 id="_1"><a href="https://mirror.nju.edu.cn/mirrorz-help/debian/?mirror=NJU">源</a></h3>
<div class="hlcode"><pre><span class="c"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span>
<span class="k">deb</span> <span class="s">https://mirror.nju.edu.cn/debian/</span> <span class="kp">bookworm</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">non-free-firmware</span>
<span class="c"># deb-src https://mirror.nju.edu.cn/debian/ bookworm main contrib non-free non-free-firmware</span>

<span class="k">deb</span> <span class="s">https://mirror.nju.edu.cn/debian/</span> <span class="kp">bookworm-updates</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">non-free-firmware</span>
<span class="c"># deb-src https://mirror.nju.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware</span>

<span class="k">deb</span> <span class="s">https://mirror.nju.edu.cn/debian/</span> <span class="kp">bookworm-backports</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">non-free-firmware</span>
<span class="c"># deb-src https://mirror.nju.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware</span>

<span class="c"># 以下安全更新软件源包含了官方源与镜像站配置，如有需要可自行修改注释切换</span>
<span class="k">deb</span> <span class="s">https://mirror.nju.edu.cn/debian-security</span> <span class="kp">bookworm-security</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">non-free-firmware</span>
<span class="c"># deb-src https://mirror.nju.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware</span>

<span class="c"># deb https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware</span>
<span class="c"># # deb-src https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware</span>
</pre></div>


<h3 id="_2">添加用户</h3>
<div class="hlcode"><pre><span class="n">adduser</span> <span class="o">--</span><span class="n">disabled</span><span class="o">-</span><span class="n">password</span> <span class="n">dongfg</span>
<span class="n">apt</span> <span class="n">install</span> <span class="n">sudo</span>

<span class="cp"># 免密 dongfg ALL=(ALL) NOPASSWD:ALL</span>
<span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sudoers</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">90</span><span class="o">-</span><span class="n">init</span><span class="o">-</span><span class="n">user</span>
</pre></div>


<h3 id="_3">自动更新</h3>
<div class="hlcode"><pre><span class="n">apt</span> <span class="n">install</span> <span class="n">unattended</span><span class="o">-</span><span class="n">upgrades</span>
<span class="cp"># Origins-Pattern 选择自动更新的 package</span>
<span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">50u</span><span class="n">nattended</span><span class="o">-</span><span class="n">upgrades</span>
<span class="cp"># 开启自动更新</span>
<span class="n">sudo</span> <span class="n">dpkg</span><span class="o">-</span><span class="n">reconfigure</span> <span class="n">unattended</span><span class="o">-</span><span class="n">upgrades</span>
<span class="cp"># 测试</span>
<span class="n">sudo</span> <span class="n">unattended</span><span class="o">-</span><span class="n">upgrades</span> <span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span> <span class="o">--</span><span class="n">debug</span>
</pre></div>


<h3 id="ssh">ssh安全设置</h3>
<div class="hlcode"><pre><span class="p">...</span>
<span class="n">PermitRootLogin</span> <span class="n">no</span>
<span class="p">...</span>
<span class="n">PasswordAuthentication</span> <span class="n">no</span>
<span class="p">...</span>
<span class="n">Port</span> <span class="mi">22222</span>
<span class="cp">#AddressFamily any</span>
<span class="n">ListenAddress</span> <span class="mf">0.0.0.0</span>
</pre></div>


<h3 id="ufw">启用 ufw</h3>
  
  <div class="relation">
    Related:
    <ul>
  
    <li><a href="/linux/centos7-init.html">Centos7 初始化ansible脚本</a></li>
  
    <li><a href="/docker/docker-basic-config.html">docker 基础配置</a></li>
  
    <li><a href="/linux/grafana-cloud-alloy.html">Grafana Cloud Alloy 配置</a></li>
  
    </ul>
  </div>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2025 <a href='https://dongfg.com'>dongfg</a>.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://git.coding.net/tankywoo/yasimple_x2.git" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Site Generated 2025-08-01 15:30:19</p>
      </div> <!-- end footer-right -->
    </div>

    
    
  </body>
</html>